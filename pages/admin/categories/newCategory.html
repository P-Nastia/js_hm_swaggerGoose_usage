
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slugify@1.6.0/slugify.min.js"></script>
    <link href="/css/style.css" rel="stylesheet" />
    <title></title>
</head>
<body>
    <script src="/js/site.js"></script>

    <link href="/css/cropper.min.css" rel="stylesheet" />
    <script src="/js/cropper.min.js"></script>

    <script>loadDOM('/partials/header.html');</script>
    <script>loadDOM('/partials/asideAdminPanel.html');</script>
    <br />
    <div id="addCategoryPage" style="margin:8% 35% 0 45%">
        <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">

            <form class="p-4 md:p-5" action="#" id="categoryForm">
                <div class="grid gap-4 mb-4 grid-cols-2">
                    <img id="avatar" style="width:100px; height:100px; margin:auto auto 5px auto" class=" rounded-full" src="/images/icon-img.png" alt="Bordered avatar">

                    <button id="chooseBT" data-modal-target="photoModal" data-modal-toggle="photoModal" style="margin:auto; cursor:pointer" class="block text-white bg-pink-600  focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center " type="button">
                        Choose icon
                    </button>
                </div>
                
                <div class="grid gap-4 mb-4 grid-cols-2">

                    <div class="col-span-2">
                        <label id="imageError" class="error text-sm block w-full" ></label>
                    </div>
                    <div class="col-span-2">
                        <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
                        <input oninput="updateSlug()" type="text" name="name" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 " placeholder="Type category name" required="">
                    </div>

                    <div class="col-span-2">
                        <label for="slug" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Generated urlSlug</label>
                        <input type="text" disabled name="slug" id="slug" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 " placeholder="Generated urlSlug">
                    </div>
                    <div class="col-span-2"> 
                        <label hidden id="slugError" class="error block w-full"></label>
                    </div>
                    <div class="col-span-2">
                        <label for="priority" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Priority</label>
                        <input type="number" name="priority" id="priority" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 " placeholder="1" required="">
                    </div>
                </div>
                <button type="submit" style="cursor:pointer" class="text-white inline-flex items-center bg-pink-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">
                    <svg class="me-1 -ms-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></svg>
                    Add new category
                </button>
                <br /><br />
                <div id="pbContainer" hidden class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                    <div id="categoryPB" class="bg-pink-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </form>
        </div>
    </div>

    <script>
        function updateSlug() {
            const name = document.getElementById('name').value;
            let slug = slugify(name);
            slug = slug.toLowerCase();
            slug = slug.replace(/[@#$']/g, '');
            document.getElementById('slug').value = slug;
        }
    </script>

    <script>loadDOM('/partials/modal_photo.html')</script>
    <script src="/js/admin/addCategory.js"></script>
</body>
</html>